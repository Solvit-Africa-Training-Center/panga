mkdir shopproject && cd shopproject
python -m venv .venv
source .venv/bin/activate   # ou .venv\Scripts\activate sur Windows

if PC is restricting access to running the scripts, in powershell:  Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

pip install Django gunicorn psycopg2-binary dj-database-url python-dotenv django-allauth whitenoise django-cloudinary-storage Pillow  

django-admin startproject shopproject .
python manage.py startapp accounts


python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser


VNYMEW4AAQNG5HRUJ31RB7WQ




tris_notification_paginations
notification_emails




from django.contrib.sites.models import Site
site = Site.objects.get(id=1)
site.domain = 'https://celebobo.onrender.com/'
site.name = 'CELEBOBO_BUSINESS'
site.save()


VAPID CREDENTIALS to be added in the settings

{
"subject": "mailto: <arnoldciku@gmail.com>",
"publicKey": "BHgl4cl4EuuLmYgdE0-QXehHCZ-ucj9XT-DEZFd3BAoxKyvVRvYRN62xFiJYdyoE3QgtzJh0Q8NOnfXB5C7wGk4",
"privateKey": "gPV6Rk7sirAG7syl-C_wWkesbd5VFnCsUu42s7O7U_I"
}

pip install django-webpush
INSTALLED_APPS = (
    ...
    'webpush',
)
WEBPUSH_SETTINGS = {
    "VAPID_PUBLIC_KEY": "Vapid Public Key",
    "VAPID_PRIVATE_KEY": "Vapid Private Key",
    "VAPID_ADMIN_EMAIL": "admin@example.com"
}

python manage.py webpush_generate_vapid_keypair

add in urls.py
urlpatterns =  [
    path('webpush/', include('webpush.urls'))
]

now the template needed for info about the notification_emails: notif.html
in the head tag
<head>
  # For django templating engine
  {% webpush_header %}

  # For jinja templating engine
  {{ webpush_header() }}
</head>

Next, inside the <body></body> tag, insert webush_button where you would like to see the Subscribe to Push Messaging Button. Like following

<body>
  <p> Hello World! </p>

  # For django templating engine
  {% webpush_button %}

  # For jinja templating engine
  {{ webpush_button() }}
</body>

Or if you want to add custom classes (e.g. bootstrap)

<body>
  <p> Hello World! </p>

  # For django templating engine
  {% webpush_button with_class="btn btn-outline-info" %}

  # For jinja templating engine
  {{ webpush_button(with_class="btn btn-outline-info") }}
</body>


If you would like to send Notification to a specific user, do like following

from webpush import send_user_notification

payload = {"head": "Welcome!", "body": "Hello World"}

send_user_notification(user=user, payload=payload, ttl=1000)

#send_user_notification
from webpush import send_user_notification

from webpush import send_group_notification

payload = {"head": "Welcome!", "body”: "Hello World", 
           "icon": "https://i.imgur.com/dRDxiCQ.png“, "url": "https://www.example.com"}

send_group_notification(user=user, payload=payload, ttl=1000)

The package is shipped with built in internationalization support.

If you would like to add more language or update translation, you can run the following command:

```bash

# Add js translation
django-admin makemessages -d djangojs -l <language_code>

# Add python translation
django-admin makemessages -l <language_code>
```

django-admin compilemessages

"[html][django-html][handlebars][hbs][mustache][jinja][jinja-html][nj][njk][nunjucks][twig]": {
        "editor.defaultFormatter": "monosans.djlint"
    },